@model IEnumerable<EMPManegment.EntityModels.ViewModels.Chat.ChatMessagesView>
@inject EMPManegment.Web.Helper.Common CommonHelper

@using EMPManegment.Web.Models;
@inject IHttpContextAccessor Accessor;
@inject UserSession _userSession


<div id="users-chat">
    <div class="chat-conversation p-3" id="chat-conversation" data-simplebar style="height: 250px;">
        <ul class="list-unstyled chat-conversation-list chat-sm" id="users-conversation">
            @foreach (var item in Model)
            {
                <li class="chat-list @(item.UserId == _userSession.UserId ? "right" : "left")">
                    <div class="conversation-list">
                        <div class="chat-avatar">
                            <img src="~/@item.UserImage" alt="">
                        </div>
                        <div class="user-chat-content">
                            <div class="ctext-wrap">
                                <div class="ctext-wrap-content">
                                    <p class="mb-0 ctext-content">@item.MessageText</p>
                                </div>
                                <div class="dropdown align-self-start message-box-drop">
                                    <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="ri-more-2-fill"></i>
                                    </a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#"><i class="ri-reply-line me-2 text-muted align-bottom"></i>Reply</a>
                                        <a class="dropdown-item" href="#"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>Copy</a>
                                        <a class="dropdown-item delete-item" href="#"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>Delete</a>
                                    </div>
                                </div>
                            </div>
                            <div class="conversation-name">
                                <small class="text-muted time">@item.SentDateTime.ToString("hh:mm tt")</small>
                                <span class="text-success check-message-icon">
                                    <i class="ri-check-double-line align-bottom"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </li>
            }
        </ul>
    </div>
</div>
