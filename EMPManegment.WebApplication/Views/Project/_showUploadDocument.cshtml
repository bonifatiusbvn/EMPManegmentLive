@model IEnumerable<EMPManegment.EntityModels.ViewModels.ProjectModels.ProjectDocumentView>
@inject EMPManegment.Web.Helper.Common CommonHelper
@{
    var counter = 1;
}
@using EMPManegment.Web.Models
@inject IHttpContextAccessor Accessor;
@inject UserSession _userSession

<div class="card">
    <div class="card-header">
        <div class="row g-2">
            <div class="col-lg-6">
                <h5 class="card-title mb-0">Project Documents</h5>
            </div>
            <div class="col-lg-6">
                <button class="btn btn-block btn-warning" style="margin-left: 670px;width: 105px;" onclick="docmodalopen()"><i class="ri-upload-2-fill me-1 align-bottom"></i> Upload</button>
            </div>
        </div>
    </div>
    <div class="card">

        <div class="card-body p-0">
            <table class="table table-bordered dt-responsive nowrap table-striped align-middle dataTable no-footer dtr-inline">
                <thead class="table-info">
                    <tr>
                        <th>#</th>
                        <th>File Name</th>
                        <th>User Name</th>
                        <th>Upload Date</th>
                        <th>Action</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@counter</td>
                            <td>@item.DocumentName.Substring(37)</td>
                            <td>
                                @item.FullName
                            </td>
                            <td>@CommonHelper.GetCommonDateFormat(item.Date)</td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <a href="/Project/DownloadProjectDocument/?DocumentName=@item.DocumentName" class="btn btn-info"><i class="fas fa-cloud-download-alt"></i></a>
                                    @if (UserSession.FormPermisionData.Any(a => a.FormName == "GetProjectDetails" && (a.Delete == true)))
                                    {
                                        <a href="#" class="btn btn-danger"><i class="fas fa-trash"></i></a>
                                    }
                                </div>
                            </td>
                        </tr>
                        counter++;
                    }
                </tbody>

            </table>
            <div class="noresult" style="display: none">
                <div class="text-center">
                    <lord-icon src="https://cdn.lordicon.com/msoeawqm.json" trigger="loop" colors="primary:#25a0e2,secondary:#00bd9d" style="width:75px;height:75px">
                    </lord-icon>
                    <h5 class="mt-2">Sorry! No Result Found</h5>
                    <p class="text-muted mb-0">
                        We've searched more than 150+ invoices We did not find any
                        invoices for you search.
                    </p>
                </div>
            </div>
        </div>
        <!-- /.card-body -->
    </div>

</div>
